(this["webpackJsonpbattleship-guestline"]=this["webpackJsonpbattleship-guestline"]||[]).push([[0],{14:function(t,e,i){},15:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),r=i(8),s=i.n(r),l=i(2),o=i(3),h=i(6),c=i(5),u=i(4),d=i(0),p=function(t){Object(c.a)(i,t);var e=Object(u.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"gameGrid",value:function(){var t=this;return this.props.gridArray.map((function(e){var i="square";i+=e.ship?" ship":"",i+=e.sunk?" sunk":"",i+=e.bombed?" bombed":"";var a="";if(!e.bombed){a=String.fromCharCode(65+Math.floor(e.cellIndex/10));var n=(e.cellIndex+1).toString().slice(-1);"0"===n&&(n="10"),a+=n}return Object(d.jsx)("div",{id:e.cellIndex,className:i,onClick:t.props.handleClick,children:a},e.cellIndex)}))}},{key:"render",value:function(){return Object(d.jsx)("section",{className:"grid",id:"grid",children:this.gameGrid()})}}]),i}(n.a.Component),b=function(t){Object(c.a)(i,t);var e=Object(u.a)(i);function i(){var t;return Object(l.a)(this,i),(t=e.call(this)).handleKeyPess=t.handleKeyPess.bind(Object(h.a)(t)),t}return Object(o.a)(i,[{key:"handleKeyPess",value:function(t){if("Enter"===t.code||"Enter"===t.key){var e=t.target.value;t.target.value="";for(var i="",a=null,n=0;n<e.length;n++){var r=e[n].charCodeAt(0);r>=65&&r<=75?a=r-65:r>=97&&r<=107?a=r-97:r>=48&&r<=57&&(i+=r-48)}if(""!==i&&null!==a&&(i=parseInt(i),--i<10&&i>=0&&a<10&&a>=0)){var s=10*i+a;document.getElementById(s).click()}}else t.target.value.length>2&&(t.target.value="")}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("h2",{children:"Choose a cell:"}),Object(d.jsx)("input",{className:"inputArea",type:"text",placeholder:"eg 'A1'",onKeyPress:this.handleKeyPess})]})}}]),i}(n.a.Component);var f={battleship:{hitpoints:5},destroyer1:{hitpoints:4},destroyer2:{hitpoints:4}};function m(){for(var t=[],e=0;e<100;e++)t.push({cellIndex:e,ship:!1,bombed:!1,sunk:!1});var i,a,n,r=Object.keys(f);function s(){for(var e=0;e<10;e++)for(var a=0;a<10;a++)if(!1!==t[10*e+a].ship)for(var s=0;s<n.length;s++)if(Math.abs(n[s].rowNumber-e)<2&&Math.abs(n[s].columnNumber-a)<2)return;for(var l=0;l<n.length;l++){var o=10*n[l].rowNumber,h=n[l].columnNumber;t[o+h].ship=r[i]}i++}return function(){for(i=0;i<r.length;){a=f[r[i]],n=[];for(var t=Math.floor(2*Math.random())?"vertical":"horizontal",e="vertical"===t?Math.floor((10-a.hitpoints)*Math.random()):Math.floor(10*Math.random()),l="vertical"===t?Math.floor(10*Math.random()):Math.floor((10-a.hitpoints)*Math.random()),o=0;o<a.hitpoints;o++)n.push("vertical"===t?{columnNumber:l,rowNumber:e+o}:{columnNumber:l+o,rowNumber:e});s()}}(),t}var g=function(t){Object(c.a)(i,t);var e=Object(u.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"setButtonClass",value:function(){var t="gameButton ",e="";return t+="initial"===this.props.gameState?"initial ":"",e+="initial"===this.props.gameState?"Deploy Ships":"",t+="inplay"===this.props.gameState?"inplay ":"",t+="final"===this.props.gameState?"final ":"",e+="final"===this.props.gameState?"Game over. Click to play again.":"",Object(d.jsx)("button",{className:t,onClick:this.props.handleBigButtonClick,children:e})}},{key:"render",value:function(){return Object(d.jsx)(n.a.Fragment,{children:this.setButtonClass()})}}]),i}(n.a.Component),j=(i(14),function(t){Object(c.a)(i,t);var e=Object(u.a)(i);function i(){var t;return Object(l.a)(this,i),(t=e.call(this)).state={shipsLeft:Object.keys({battleship:{hitpoints:5},destroyer1:{hitpoints:4},destroyer2:{hitpoints:4}}).length,gridArray:m(),fleet:{battleship:{hitpoints:5},destroyer1:{hitpoints:4},destroyer2:{hitpoints:4}},gameState:"initial"},t.reduceHitpoints=t.reduceHitpoints.bind(Object(h.a)(t)),t.handleClick=t.handleClick.bind(Object(h.a)(t)),t.handleBigButtonClick=t.handleBigButtonClick.bind(Object(h.a)(t)),t}return Object(o.a)(i,[{key:"handleBigButtonClick",value:function(t){"initial"===this.state.gameState?this.setState({gameState:"inplay"}):"final"===this.state.gameState&&this.setState({shipsLeft:Object.keys({battleship:{hitpoints:5},destroyer1:{hitpoints:4},destroyer2:{hitpoints:4}}).length,gridArray:m(),fleet:{battleship:{hitpoints:5},destroyer1:{hitpoints:4},destroyer2:{hitpoints:4}},gameState:"initial"})}},{key:"handleClick",value:function(t){if("inplay"===this.state.gameState){var e=t.target.id,i=this.state.gridArray;i[e].bombed||(i[e].bombed=!0,i[e].ship&&this.reduceHitpoints(i[e].ship)),this.setState({gridArray:i})}}},{key:"reduceHitpoints",value:function(t){var e=this,i=this.state.fleet;if(i[t].hitpoints--,this.setState({fleet:i}),0===i[t].hitpoints){for(var a=this.state.gridArray,n=0;n<a.length;n++)a[n].ship===t&&(a[n].sunk=!0);var r=this.state.shipsLeft-1;this.setState({gridArray:a,shipsLeft:r},(function(){0===e.state.shipsLeft&&e.setState({gameState:"final"})}))}}},{key:"render",value:function(){return Object(d.jsxs)("main",{children:[Object(d.jsx)("h1",{children:"Sea Battle"}),Object(d.jsxs)("div",{className:"outerGameArea",children:[Object(d.jsx)("div",{className:"blankDiv"}),Object(d.jsx)(p,{handleClick:this.handleClick,gridArray:this.state.gridArray}),Object(d.jsx)(g,{gameState:this.state.gameState,handleBigButtonClick:this.handleBigButtonClick}),Object(d.jsx)(b,{handleClick:this.handleClick})]})]})}}]),i}(n.a.Component));s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.05906dd1.chunk.js.map